<app-spinner *ngIf="loading"></app-spinner>

<div [style.visibility]="!loading ? 'visible' : 'hidden'">
    <div *ngIf="!showApplicationView && !showModifyTripView">
        <div class="pure-g">
            <div class="pure-u-1-1 pure-u-lg-18-24">
                <h2>Trips</h2>
                <app-modify-trip [tripDates]="tripDates" (reloadTripDates)="updateTripDates()"
                                 (modifyTripDate)="modifyTripDate($event)"
                                 (tripUpdating)="resourceUpdating($event)"></app-modify-trip>
            </div>
            <div class="pure-u-1-1 pure-u-lg-6-24" id="add-trip">
                <h2>Add a Trip</h2>
                <app-add-trip (reloadTrips)="updateTripDates()"
                              (tripUpdating)="resourceUpdating($event)"></app-add-trip>
            </div>
        </div>

        <h2>Applications</h2>
        <app-application-submissions [applications]="applications" (viewApplicationEvent)="viewApplication($event)"
                                     (deleteApplicationEvent)="deleteApplication()"
                                     (applicationUpdating)="resourceUpdating($event)"></app-application-submissions>
    </div>

    <app-application-view *ngIf="showApplicationView" [applicationToEdit]="selectedApplication"
                          (close)="applicationClose()"></app-application-view>
    <app-modify-trip-view *ngIf="showModifyTripView" [selectedTripDate]="selectedTripDate"
                          (closeTripDate)="tripDateClose()" (updateTripDate)="updateTripDates()"></app-modify-trip-view>
</div>
